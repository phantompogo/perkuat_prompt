<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prompt Enhance App - Fitur Pro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .loader {
            border: 5px solid #f3f3f3; /* Light grey */
            border-top: 5px solid #3498db; /* Blue */
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }
        .loader_small { /* Loader yang lebih kecil untuk fitur per item */
            border: 3px solid #f3f3f3;
            border-top: 3px solid #3498db;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .output-box-container {
            /* Styles for the container of multiple variations if needed */
        }
        .variation-item {
            background-color: #374151; /* bg-slate-700 */
            padding: 1rem; /* p-4 */
            border-radius: 0.5rem; /* rounded-lg */
            box-shadow: 0 1px 2px 0 rgba(0,0,0,.05); /* subtle shadow */
            margin-bottom: 1rem; /* mb-4 */
            position: relative;
        }
        .variation-item pre {
            white-space: pre-wrap;
            word-wrap: break-word;
            overflow-wrap: break-word;
            color: #d1d5db; /* text-slate-300 */
            min-height: 60px; /* Minimum height for each variation */
        }
        .copy-button {
            transition: background-color 0.2s ease-in-out; /* Only transition background */
            position: absolute;
            top: 0.5rem; /* top-2 */
            right: 0.5rem; /* right-2 */
            background-color: #4b5563; /* bg-slate-600 */
            padding: 0.5rem; /* p-2 */
            border-radius: 0.375rem; /* rounded-md */
        }
        .copy-button:hover {
            background-color: #6b7280; /* hover:bg-slate-500 */
        }
        /* Removed active scale for copy-button as it's very subtle */

        .copied-feedback {
            transition: opacity 0.5s ease-in-out;
            position: absolute;
            top: 2.75rem; /* Adjusted position */
            right: 0.5rem; /* right-2 */
            font-size: 0.75rem; /* text-xs */
            background-color: #38bdf8; /* sky-400, was green-500 */
            color: white;
            padding: 0.25rem 0.5rem; /* px-2 py-1 */
            border-radius: 0.25rem; /* rounded */
            opacity: 0;
        }
        .feature-button { /* Tombol untuk fitur tambahan per variasi */
            margin-top: 0.5rem; /* mt-2 */
            font-size: 0.75rem; /* text-xs */
            font-weight: 600; /* font-semibold */
            padding: 0.25rem 0.5rem; /* py-1 px-2 */
            border-radius: 0.375rem; /* rounded-md */
            color: #e2e8f0; /* slate-200 */
            background-color: #4b5563; /* bg-slate-600 */
            transition: background-color 0.15s ease-in-out;
        }
        .feature-button:hover {
             background-color: #6b7280; /* hover:bg-slate-500 */
        }
        .feature-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .feature-result { /* Kontainer untuk hasil fitur tambahan */
            margin-top: 0.5rem; /* mt-2 */
            padding: 0.5rem; /* p-2 */
            background-color: #4b5563; /* bg-slate-600 equivalent */
            border-radius: 0.25rem; /* rounded */
            font-size: 0.75rem; /* text-xs */
            color: #e5e7eb; /* text-slate-200 roughly */
            white-space: pre-wrap;
        }
        select {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%239ca3af' viewBox='0 0 16 16'%3E%3Cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 0.75rem center;
            background-size: 1em 1em;
            padding-right: 2.5rem; /* Ensure space for arrow */
        }
    </style>
<script type="importmap">
{
  "imports": {
    "@google/genai": "https://esm.sh/@google/genai@^1.3.0"
  }
}
</script>
<link rel="stylesheet" href="/index.css">
</head>
<body class="bg-slate-900 text-white min-h-screen flex flex-col items-center justify-center p-4 selection:bg-sky-500 selection:text-white">

    <div class="bg-slate-800 p-6 sm:p-8 rounded-xl shadow-lg w-full max-w-3xl">
        <header class="mb-6 text-center">
            <h1 class="text-3xl sm:text-4xl font-bold text-sky-400">ðŸš€ Prompt Enhance Pro</h1>
            <p class="text-slate-400 mt-2">Sempurnakan, analisis, dan kembangkan ide prompt Anda untuk gambar dan video.</p>
        </header>

        <main>
            <div class="mb-4">
                <label for="userPrompt" class="block text-sm font-medium text-slate-300 mb-1">Masukkan Prompt Sederhana Anda:</label>
                <textarea id="userPrompt" rows="3" class="w-full p-3 bg-slate-700 border border-slate-600 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 placeholder-slate-500 text-slate-200 resize-none" placeholder="Contoh: seekor naga di atas gunung" aria-label="User Prompt Input"></textarea>
            </div>

            <h3 class="text-lg font-semibold text-sky-300 mb-2 mt-6">Tambahkan Detail untuk Prompt Gambar (Opsional):</h3>
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4">
                <div>
                    <label for="imageQualitySelect" class="block text-sm font-medium text-slate-300 mb-1">Kualitas Gambar:</label>
                    <select id="imageQualitySelect" class="w-full p-3 bg-slate-700 border border-slate-600 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 text-slate-200" aria-label="Image Quality">
                        <option value="">Pilih Kualitas...</option>
                        <option value="HD (High Definition 720p)">HD (High Definition 720p)</option>
                        <option value="UHD (Ultra High Definition 1080p)">UHD (Ultra High Definition 1080p)</option>
                        <option value="2K">2K</option>
                        <option value="4K">4K</option>
                    </select>
                </div>
                <div>
                    <label for="imageDetailSelect" class="block text-sm font-medium text-slate-300 mb-1">Detail Tambahan:</label>
                    <select id="imageDetailSelect" class="w-full p-3 bg-slate-700 border border-slate-600 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 text-slate-200" aria-label="Additional Image Details">
                        <option value="">Pilih Detail...</option>
                        <option value="Sharp Details, Sharp Focus, Crisp Details">Sharp Details, Sharp Focus, Crisp Details</option>
                        <option value="Highly Detailed">Highly Detailed</option>
                    </select>
                </div>
                <div>
                    <label for="imageLightingSelect" class="block text-sm font-medium text-slate-300 mb-1">Pencahayaan (Lighting):</label>
                    <select id="imageLightingSelect" class="w-full p-3 bg-slate-700 border border-slate-600 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 text-slate-200" aria-label="Image Lighting">
                        <option value="">Pilih Pencahayaan...</option>
                        <option value="Good lighting">Good lighting</option>
                        <option value="Perfect lighting">Perfect lighting</option>
                        <option value="Well-lit">Well-lit</option>
                        <option value="Studio lighting">Studio lighting</option>
                        <option value="Natural lighting">Natural lighting</option>
                        <option value="Soft lighting">Soft lighting</option>
                        <option value="Dramatic lighting">Dramatic lighting</option>
                        <option value="Cinematic lighting">Cinematic lighting</option>
                    </select>
                </div>
                <div>
                    <label for="imageCompositionSelect" class="block text-sm font-medium text-slate-300 mb-1">Komposisi:</label>
                    <select id="imageCompositionSelect" class="w-full p-3 bg-slate-700 border border-slate-600 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 text-slate-200" aria-label="Image Composition">
                        <option value="">Pilih Komposisi...</option>
                        <option value="Rule of thirds">Rule of thirds</option>
                        <option value="Leading lines">Leading lines</option>
                        <option value="Symmetry">Symmetry</option>
                        <option value="Depth of field">Depth of field</option>
                        <option value="Bokeh">Bokeh</option>
                    </select>
                </div>
                <div>
                    <label for="imageStyleSelect" class="block text-sm font-medium text-slate-300 mb-1">Gaya:</label>
                    <select id="imageStyleSelect" class="w-full p-3 bg-slate-700 border border-slate-600 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 text-slate-200" aria-label="Image Style">
                        <option value="">Pilih Gaya...</option>
                        <option value="3D">3D</option>
                        <option value="Photorealistic">Photorealistic</option>
                        <option value="Cartoon">Cartoon</option>
                        <option value="Anime">Anime</option>
                        <option value="Flat Design">Flat Design</option>
                        <option value="Paper CutOut">Paper CutOut</option>
                        <option value="8Bit">8Bit</option>
                        <option value="Retro Classic">Retro Classic</option>
                        <option value="Modern">Modern</option>
                    </select>
                </div>
                <div>
                    <label for="imageNegativeStyleSelect" class="block text-sm font-medium text-slate-300 mb-1">Gaya Buruk (Negative):</label>
                    <select id="imageNegativeStyleSelect" class="w-full p-3 bg-slate-700 border border-slate-600 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 text-slate-200" aria-label="Negative Image Style">
                        <option value="">Pilih Gaya Buruk...</option>
                        <option value="No Blur, Not Blurry">No Blur, Not Blurry</option>
                        <option value="no shadow">No Shadow</option>
                    </select>
                </div>
            </div>

            <h3 class="text-lg font-semibold text-sky-300 mb-2 mt-6">Tambahkan Detail untuk Adegan Video (Opsional):</h3>
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6">
                <div>
                    <label for="videoShotTypeSelect" class="block text-sm font-medium text-slate-300 mb-1">Jenis Shot Video:</label>
                    <select id="videoShotTypeSelect" class="w-full p-3 bg-slate-700 border border-slate-600 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 text-slate-200" aria-label="Video Shot Type">
                        <option value="">Pilih Jenis Shot Video...</option>
                        <option value="Close-up shot">Close-up shot</option>
                        <option value="Medium shot">Medium shot</option>
                        <option value="Full shot">Full shot</option>
                        <option value="Long shot">Long shot</option>
                        <option value="Extreme close-up">Extreme close-up</option>
                        <option value="Macro shot">Macro shot</option>
                        <option value="Wide angle shot">Wide angle shot</option>
                        <option value="Aerial view">Aerial view</option>
                        <option value="Drone shot">Drone shot</option>
                    </select>
                </div>
                <div>
                    <label for="videoCameraMovementSelect" class="block text-sm font-medium text-slate-300 mb-1">Pergerakan Kamera Video:</label>
                    <select id="videoCameraMovementSelect" class="w-full p-3 bg-slate-700 border border-slate-600 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 text-slate-200" aria-label="Video Camera Movement">
                        <option value="">Pilih Pergerakan Kamera...</option>
                        <option value="Static shot">Static shot (Kamera diam)</option>
                        <option value="Zoom in">Zoom in</option>
                        <option value="Zoom out">Zoom out</option>
                        <option value="Slow zoom in on [subject]">Slow zoom in on [subject]</option>
                        <option value="Fast zoom out">Fast zoom out</option>
                        <option value="Crash zoom">Crash zoom</option>
                    </select>
                </div>
            </div>
            
            <button id="enhanceButton" class="w-full bg-sky-500 hover:bg-sky-600 text-white font-bold py-3 px-6 rounded-lg shadow-md hover:shadow-lg transition duration-150 ease-in-out mb-6">
                ðŸš€ Sempurnakan & Buat Variasi Prompt
            </button>

            <button id="analyzeOriginalPromptButton" class="mb-4 w-full sm:w-auto bg-teal-500 hover:bg-teal-600 text-white font-semibold py-2 px-4 rounded-lg text-sm shadow hover:shadow-md transition duration-150 ease-in-out">
                âœ¨ Analisis Prompt Saya
            </button>
            <div id="originalPromptAnalysisResult" class="hidden mb-4 p-3 bg-slate-700 rounded-lg text-sm shadow-sm" aria-live="polite">
                 <div id="originalPromptAnalysisLoader" class="loader_small hidden mx-auto my-1" aria-label="Menganalisis prompt"></div>
                 <p id="originalPromptAnalysisText" class="text-slate-300"></p>
            </div>

            <div id="loadingAnimation" class="hidden text-center py-4">
                <div class="loader"></div>
                <p id="loadingText" class="text-slate-300 mt-2">Memproses...</p>
            </div>

            <div id="errorMessage" class="hidden bg-red-700 p-3 rounded-lg text-sm my-4" role="alert">
                <p id="errorMessageText"></p>
            </div>

            <div id="results" class="hidden mt-6 space-y-6">
                <div id="imagePromptOutputContainer" class="output-box-container">
                    <h3 class="text-xl font-semibold text-sky-400 mb-3">Variasi Prompt Gambar:</h3>
                    {/* <!-- Content will be injected by JS --> */}
                </div>
                <div id="videoPromptOutputContainer" class="output-box-container">
                    <h3 class="text-xl font-semibold text-sky-400 mb-3">Variasi Prompt Video:</h3>
                    {/* <!-- Content will be injected by JS --> */}
                </div>
            </div>
        </main>

        <footer class="mt-8 text-center text-sm text-slate-500">
            <p>&copy; <span id="currentYear"></span> Prompt Enhance Pro. Ditenagai oleh Model Gemini.</p>
        </footer>

    </div>
    <script>
        document.getElementById('currentYear').textContent = new Date().getFullYear();
    </script>
    <script type="module" src="index.tsx"></script>
<script type="module" src="/index.tsx"></script>
</body>
</html>